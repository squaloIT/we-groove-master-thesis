"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkwegroove"] = self["webpackChunkwegroove"] || []).push([["app_js_topics_js"],{

/***/ "./app/js/topics.js":
/*!**************************!*\
  !*** ./app/js/topics.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ topics)\n/* harmony export */ });\n/* harmony import */ var _utils_dom_manipulation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/dom-manipulation */ \"./app/js/utils/dom-manipulation.js\");\n/* harmony import */ var _utils_image_comment_preview__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/image-comment-preview */ \"./app/js/utils/image-comment-preview.js\");\n/* harmony import */ var _utils_listeners__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/listeners */ \"./app/js/utils/listeners.js\");\n\n\n\nfunction topics() {\n  (0,_utils_image_comment_preview__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n  var taReply = document.querySelector(\"div.reply-aria textarea\");\n  taReply.addEventListener('keyup', function (e) {\n    if (e.target.scrollHeight > 110) {\n      e.target.style.overflowY = 'scroll';\n    } else {\n      e.target.style.overflowY = 'hidden';\n      e.target.style.height = \"\".concat(e.target.scrollHeight);\n    }\n  });\n  (0,_utils_dom_manipulation__WEBPACK_IMPORTED_MODULE_0__.setSeparatorHeightForAllReplies)();\n  document.querySelector(\"div.right_column #topics-users-search\").addEventListener(\"keyup\", (0,_utils_listeners__WEBPACK_IMPORTED_MODULE_2__.onSearchTopicsAndUsers)());\n  document.querySelector(\"div.online-users-container div.online-users-header button.open-online-users\").addEventListener(\"click\", function (e) {\n    return onClickToggleOnlineUsersWrapper(e);\n  });\n  document.querySelector(\"div.online-users-container div.online-users-header button.close-online-users\").addEventListener(\"click\", function (e) {\n    return onClickToggleOnlineUsersWrapper(e);\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvanMvdG9waWNzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2Vncm9vdmUvLi9hcHAvanMvdG9waWNzLmpzPzJlOTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2V0U2VwYXJhdG9ySGVpZ2h0Rm9yQWxsUmVwbGllcyB9IGZyb20gJy4vdXRpbHMvZG9tLW1hbmlwdWxhdGlvbic7XG5pbXBvcnQgaW1hZ2VDb21tZW50UHJldmlldyBmcm9tICcuL3V0aWxzL2ltYWdlLWNvbW1lbnQtcHJldmlldyc7XG5pbXBvcnQgeyBvblNlYXJjaFRvcGljc0FuZFVzZXJzIH0gZnJvbSAnLi91dGlscy9saXN0ZW5lcnMnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdG9waWNzKCkge1xuICBpbWFnZUNvbW1lbnRQcmV2aWV3KCk7XG4gIHZhciB0YVJlcGx5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImRpdi5yZXBseS1hcmlhIHRleHRhcmVhXCIpO1xuICB0YVJlcGx5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoZS50YXJnZXQuc2Nyb2xsSGVpZ2h0ID4gMTEwKSB7XG4gICAgICBlLnRhcmdldC5zdHlsZS5vdmVyZmxvd1kgPSAnc2Nyb2xsJztcbiAgICB9IGVsc2Uge1xuICAgICAgZS50YXJnZXQuc3R5bGUub3ZlcmZsb3dZID0gJ2hpZGRlbic7XG4gICAgICBlLnRhcmdldC5zdHlsZS5oZWlnaHQgPSBcIlwiLmNvbmNhdChlLnRhcmdldC5zY3JvbGxIZWlnaHQpO1xuICAgIH1cbiAgfSk7XG4gIHNldFNlcGFyYXRvckhlaWdodEZvckFsbFJlcGxpZXMoKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImRpdi5yaWdodF9jb2x1bW4gI3RvcGljcy11c2Vycy1zZWFyY2hcIikuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIG9uU2VhcmNoVG9waWNzQW5kVXNlcnMoKSk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJkaXYub25saW5lLXVzZXJzLWNvbnRhaW5lciBkaXYub25saW5lLXVzZXJzLWhlYWRlciBidXR0b24ub3Blbi1vbmxpbmUtdXNlcnNcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgcmV0dXJuIG9uQ2xpY2tUb2dnbGVPbmxpbmVVc2Vyc1dyYXBwZXIoZSk7XG4gIH0pO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZGl2Lm9ubGluZS11c2Vycy1jb250YWluZXIgZGl2Lm9ubGluZS11c2Vycy1oZWFkZXIgYnV0dG9uLmNsb3NlLW9ubGluZS11c2Vyc1wiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICByZXR1cm4gb25DbGlja1RvZ2dsZU9ubGluZVVzZXJzV3JhcHBlcihlKTtcbiAgfSk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./app/js/topics.js\n");

/***/ }),

/***/ "./app/js/utils/image-comment-preview.js":
/*!***********************************************!*\
  !*** ./app/js/utils/image-comment-preview.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ imageCommentPreview)\n/* harmony export */ });\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api */ \"./app/js/utils/api.js\");\n/* harmony import */ var _dom_manipulation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dom-manipulation */ \"./app/js/utils/dom-manipulation.js\");\n/* harmony import */ var _listeners__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./listeners */ \"./app/js/utils/listeners.js\");\n/* harmony import */ var _validation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./validation */ \"./app/js/utils/validation.js\");\n\n\n\n\nfunction imageCommentPreview() {\n  var selectedImagesForComment = [];\n  document.querySelector('div.reply-button-wrapper button.reply-comment-button').addEventListener('click', onClickCommentButton);\n  (0,_listeners__WEBPACK_IMPORTED_MODULE_2__.addAllListenersToPosts)(function (e) {\n    var uploadPreview = document.querySelector('#modal-container div.upload-images-preview-wrapper');\n    var taReply = document.querySelector(\"#modal-container div.reply-aria textarea\");\n    var submitCommentBtn = document.querySelector('div.reply-button-wrapper button.reply-comment-button');\n\n    if ((0,_validation__WEBPACK_IMPORTED_MODULE_3__.validateNumberOfImages)(e)) {\n      uploadPreview.innerHTML = '';\n      uploadPreview.classList.remove('hidden');\n      selectedImagesForComment = Array.from(e.target.files);\n      (0,_dom_manipulation__WEBPACK_IMPORTED_MODULE_1__.addSelectedImagesToPreview)(uploadPreview, e.target.files, function (e, img) {\n        var imageId = img.dataset.imageId;\n        var deletedImage = selectedImagesForComment.find(function (file) {\n          return imageId == \"\".concat(file.lastModified, \"-\").concat(file.name);\n        });\n        selectedImagesForComment = selectedImagesForComment.filter(function (file) {\n          return file != deletedImage;\n        });\n        var imageWrapper = document.querySelector(\".image-wrapper img[data-image-id=\\\"\".concat(deletedImage.lastModified, \"-\").concat(deletedImage.name, \"\\\"]\")).parentElement;\n        imageWrapper.remove();\n\n        if (selectedImagesForComment.length == 0) {\n          uploadPreview.classList.add('hidden');\n        }\n      });\n      (0,_dom_manipulation__WEBPACK_IMPORTED_MODULE_1__.toggleButtonAvailability)(submitCommentBtn, function () {\n        return taReply.value.trim() == 0 && selectedImagesForComment.length == 0;\n      }, 'bg-opacity-100');\n    } else {\n      uploadPreview.classList.add('hidden');\n      selectedImagesForComment = [];\n    }\n  });\n  /**\r\n   * @param {Event} e \r\n   */\n\n  function onClickCommentButton(e) {\n    e.stopPropagation();\n    var pid = e.target.dataset.pid;\n    var content = document.querySelector(\"div#modal-container div.reply-aria textarea\").value;\n    var commentButtonLabel = document.querySelector('div#modal-container div.reply-button-wrapper span.comment-button__label');\n    var commentButtonSpinner = document.querySelector('div#modal-container div.reply-button-wrapper .comment-button__spinner');\n    (0,_dom_manipulation__WEBPACK_IMPORTED_MODULE_1__.showSpinner)(commentButtonLabel, commentButtonSpinner);\n    var modal = document.querySelector('#modal-container');\n    (0,_api__WEBPACK_IMPORTED_MODULE_0__.replyToPost)(pid, content, selectedImagesForComment).then(function (res) {\n      return res.json();\n    }).then(function (_ref) {\n      var status = _ref.status;\n\n      if (status == 201) {\n        (0,_dom_manipulation__WEBPACK_IMPORTED_MODULE_1__.hideSpinner)(commentButtonLabel, commentButtonSpinner);\n        location.reload();\n      }\n\n      modal.classList.add('hidden');\n    })[\"catch\"](function (err) {\n      (0,_dom_manipulation__WEBPACK_IMPORTED_MODULE_1__.hideSpinner)(commentButtonLabel, commentButtonSpinner);\n      console.error(err);\n      modal.classList.add('hidden');\n    });\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvanMvdXRpbHMvaW1hZ2UtY29tbWVudC1wcmV2aWV3LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2Vncm9vdmUvLi9hcHAvanMvdXRpbHMvaW1hZ2UtY29tbWVudC1wcmV2aWV3LmpzPzI1M2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVwbHlUb1Bvc3QgfSBmcm9tIFwiLi9hcGlcIjtcbmltcG9ydCB7IGFkZFNlbGVjdGVkSW1hZ2VzVG9QcmV2aWV3LCBoaWRlU3Bpbm5lciwgc2hvd1NwaW5uZXIsIHRvZ2dsZUJ1dHRvbkF2YWlsYWJpbGl0eSB9IGZyb20gXCIuL2RvbS1tYW5pcHVsYXRpb25cIjtcbmltcG9ydCB7IGFkZEFsbExpc3RlbmVyc1RvUG9zdHMgfSBmcm9tIFwiLi9saXN0ZW5lcnNcIjtcbmltcG9ydCB7IHZhbGlkYXRlTnVtYmVyT2ZJbWFnZXMgfSBmcm9tIFwiLi92YWxpZGF0aW9uXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbWFnZUNvbW1lbnRQcmV2aWV3KCkge1xuICB2YXIgc2VsZWN0ZWRJbWFnZXNGb3JDb21tZW50ID0gW107XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Rpdi5yZXBseS1idXR0b24td3JhcHBlciBidXR0b24ucmVwbHktY29tbWVudC1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQ2xpY2tDb21tZW50QnV0dG9uKTtcbiAgYWRkQWxsTGlzdGVuZXJzVG9Qb3N0cyhmdW5jdGlvbiAoZSkge1xuICAgIHZhciB1cGxvYWRQcmV2aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21vZGFsLWNvbnRhaW5lciBkaXYudXBsb2FkLWltYWdlcy1wcmV2aWV3LXdyYXBwZXInKTtcbiAgICB2YXIgdGFSZXBseSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtY29udGFpbmVyIGRpdi5yZXBseS1hcmlhIHRleHRhcmVhXCIpO1xuICAgIHZhciBzdWJtaXRDb21tZW50QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZGl2LnJlcGx5LWJ1dHRvbi13cmFwcGVyIGJ1dHRvbi5yZXBseS1jb21tZW50LWJ1dHRvbicpO1xuXG4gICAgaWYgKHZhbGlkYXRlTnVtYmVyT2ZJbWFnZXMoZSkpIHtcbiAgICAgIHVwbG9hZFByZXZpZXcuaW5uZXJIVE1MID0gJyc7XG4gICAgICB1cGxvYWRQcmV2aWV3LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgc2VsZWN0ZWRJbWFnZXNGb3JDb21tZW50ID0gQXJyYXkuZnJvbShlLnRhcmdldC5maWxlcyk7XG4gICAgICBhZGRTZWxlY3RlZEltYWdlc1RvUHJldmlldyh1cGxvYWRQcmV2aWV3LCBlLnRhcmdldC5maWxlcywgZnVuY3Rpb24gKGUsIGltZykge1xuICAgICAgICB2YXIgaW1hZ2VJZCA9IGltZy5kYXRhc2V0LmltYWdlSWQ7XG4gICAgICAgIHZhciBkZWxldGVkSW1hZ2UgPSBzZWxlY3RlZEltYWdlc0ZvckNvbW1lbnQuZmluZChmdW5jdGlvbiAoZmlsZSkge1xuICAgICAgICAgIHJldHVybiBpbWFnZUlkID09IFwiXCIuY29uY2F0KGZpbGUubGFzdE1vZGlmaWVkLCBcIi1cIikuY29uY2F0KGZpbGUubmFtZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZWxlY3RlZEltYWdlc0ZvckNvbW1lbnQgPSBzZWxlY3RlZEltYWdlc0ZvckNvbW1lbnQuZmlsdGVyKGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICAgICAgcmV0dXJuIGZpbGUgIT0gZGVsZXRlZEltYWdlO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGltYWdlV3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW1hZ2Utd3JhcHBlciBpbWdbZGF0YS1pbWFnZS1pZD1cXFwiXCIuY29uY2F0KGRlbGV0ZWRJbWFnZS5sYXN0TW9kaWZpZWQsIFwiLVwiKS5jb25jYXQoZGVsZXRlZEltYWdlLm5hbWUsIFwiXFxcIl1cIikpLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIGltYWdlV3JhcHBlci5yZW1vdmUoKTtcblxuICAgICAgICBpZiAoc2VsZWN0ZWRJbWFnZXNGb3JDb21tZW50Lmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgdXBsb2FkUHJldmlldy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0b2dnbGVCdXR0b25BdmFpbGFiaWxpdHkoc3VibWl0Q29tbWVudEJ0biwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGFSZXBseS52YWx1ZS50cmltKCkgPT0gMCAmJiBzZWxlY3RlZEltYWdlc0ZvckNvbW1lbnQubGVuZ3RoID09IDA7XG4gICAgICB9LCAnYmctb3BhY2l0eS0xMDAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXBsb2FkUHJldmlldy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNlbGVjdGVkSW1hZ2VzRm9yQ29tbWVudCA9IFtdO1xuICAgIH1cbiAgfSk7XG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgXHJcbiAgICovXG5cbiAgZnVuY3Rpb24gb25DbGlja0NvbW1lbnRCdXR0b24oZSkge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgdmFyIHBpZCA9IGUudGFyZ2V0LmRhdGFzZXQucGlkO1xuICAgIHZhciBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImRpdiNtb2RhbC1jb250YWluZXIgZGl2LnJlcGx5LWFyaWEgdGV4dGFyZWFcIikudmFsdWU7XG4gICAgdmFyIGNvbW1lbnRCdXR0b25MYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2RpdiNtb2RhbC1jb250YWluZXIgZGl2LnJlcGx5LWJ1dHRvbi13cmFwcGVyIHNwYW4uY29tbWVudC1idXR0b25fX2xhYmVsJyk7XG4gICAgdmFyIGNvbW1lbnRCdXR0b25TcGlubmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZGl2I21vZGFsLWNvbnRhaW5lciBkaXYucmVwbHktYnV0dG9uLXdyYXBwZXIgLmNvbW1lbnQtYnV0dG9uX19zcGlubmVyJyk7XG4gICAgc2hvd1NwaW5uZXIoY29tbWVudEJ1dHRvbkxhYmVsLCBjb21tZW50QnV0dG9uU3Bpbm5lcik7XG4gICAgdmFyIG1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21vZGFsLWNvbnRhaW5lcicpO1xuICAgIHJlcGx5VG9Qb3N0KHBpZCwgY29udGVudCwgc2VsZWN0ZWRJbWFnZXNGb3JDb21tZW50KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgIHZhciBzdGF0dXMgPSBfcmVmLnN0YXR1cztcblxuICAgICAgaWYgKHN0YXR1cyA9PSAyMDEpIHtcbiAgICAgICAgaGlkZVNwaW5uZXIoY29tbWVudEJ1dHRvbkxhYmVsLCBjb21tZW50QnV0dG9uU3Bpbm5lcik7XG4gICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgfVxuXG4gICAgICBtb2RhbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGhpZGVTcGlubmVyKGNvbW1lbnRCdXR0b25MYWJlbCwgY29tbWVudEJ1dHRvblNwaW5uZXIpO1xuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgbW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfSk7XG4gIH1cbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./app/js/utils/image-comment-preview.js\n");

/***/ })

}]);