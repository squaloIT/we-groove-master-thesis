/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["src_js_topics_js"],{

/***/ "./src/js/topics.js":
/*!**************************!*\
  !*** ./src/js/topics.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ topics)\n/* harmony export */ });\n/* harmony import */ var _utils_dom_manipulation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/dom-manipulation */ \"./src/js/utils/dom-manipulation.js\");\n/* harmony import */ var _utils_image_comment_preview__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/image-comment-preview */ \"./src/js/utils/image-comment-preview.js\");\n/* harmony import */ var _utils_listeners__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/listeners */ \"./src/js/utils/listeners.js\");\n\n\n\nfunction topics() {\n  (0,_utils_image_comment_preview__WEBPACK_IMPORTED_MODULE_1__.default)();\n  var taReply = document.querySelector(\"div.reply-aria textarea\");\n  taReply.addEventListener('keyup', function (e) {\n    if (e.target.scrollHeight > 110) {\n      e.target.style.overflowY = 'scroll';\n    } else {\n      e.target.style.overflowY = 'hidden';\n      e.target.style.height = \"\".concat(e.target.scrollHeight);\n    }\n  });\n  (0,_utils_dom_manipulation__WEBPACK_IMPORTED_MODULE_0__.setSeparatorHeightForAllReplies)();\n  document.querySelector(\"div.right_column #topics-users-search\").addEventListener(\"keyup\", (0,_utils_listeners__WEBPACK_IMPORTED_MODULE_2__.onSearchTopicsAndUsers)());\n  document.querySelector(\"div.online-users-container div.online-users-header button.open-online-users\").addEventListener(\"click\", function (e) {\n    return onClickToggleOnlineUsersWrapper(e);\n  });\n  document.querySelector(\"div.online-users-container div.online-users-header button.close-online-users\").addEventListener(\"click\", function (e) {\n    return onClickToggleOnlineUsersWrapper(e);\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvdG9waWNzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vc3JjL2pzL3RvcGljcy5qcz8zZTE2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNldFNlcGFyYXRvckhlaWdodEZvckFsbFJlcGxpZXMgfSBmcm9tICcuL3V0aWxzL2RvbS1tYW5pcHVsYXRpb24nO1xuaW1wb3J0IGltYWdlQ29tbWVudFByZXZpZXcgZnJvbSAnLi91dGlscy9pbWFnZS1jb21tZW50LXByZXZpZXcnO1xuaW1wb3J0IHsgb25TZWFyY2hUb3BpY3NBbmRVc2VycyB9IGZyb20gJy4vdXRpbHMvbGlzdGVuZXJzJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvcGljcygpIHtcbiAgaW1hZ2VDb21tZW50UHJldmlldygpO1xuICB2YXIgdGFSZXBseSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJkaXYucmVwbHktYXJpYSB0ZXh0YXJlYVwiKTtcbiAgdGFSZXBseS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKGUudGFyZ2V0LnNjcm9sbEhlaWdodCA+IDExMCkge1xuICAgICAgZS50YXJnZXQuc3R5bGUub3ZlcmZsb3dZID0gJ3Njcm9sbCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGUudGFyZ2V0LnN0eWxlLm92ZXJmbG93WSA9ICdoaWRkZW4nO1xuICAgICAgZS50YXJnZXQuc3R5bGUuaGVpZ2h0ID0gXCJcIi5jb25jYXQoZS50YXJnZXQuc2Nyb2xsSGVpZ2h0KTtcbiAgICB9XG4gIH0pO1xuICBzZXRTZXBhcmF0b3JIZWlnaHRGb3JBbGxSZXBsaWVzKCk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJkaXYucmlnaHRfY29sdW1uICN0b3BpY3MtdXNlcnMtc2VhcmNoXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBvblNlYXJjaFRvcGljc0FuZFVzZXJzKCkpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZGl2Lm9ubGluZS11c2Vycy1jb250YWluZXIgZGl2Lm9ubGluZS11c2Vycy1oZWFkZXIgYnV0dG9uLm9wZW4tb25saW5lLXVzZXJzXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgIHJldHVybiBvbkNsaWNrVG9nZ2xlT25saW5lVXNlcnNXcmFwcGVyKGUpO1xuICB9KTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImRpdi5vbmxpbmUtdXNlcnMtY29udGFpbmVyIGRpdi5vbmxpbmUtdXNlcnMtaGVhZGVyIGJ1dHRvbi5jbG9zZS1vbmxpbmUtdXNlcnNcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgcmV0dXJuIG9uQ2xpY2tUb2dnbGVPbmxpbmVVc2Vyc1dyYXBwZXIoZSk7XG4gIH0pO1xufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/topics.js\n");

/***/ }),

/***/ "./src/js/utils/image-comment-preview.js":
/*!***********************************************!*\
  !*** ./src/js/utils/image-comment-preview.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ imageCommentPreview)\n/* harmony export */ });\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api */ \"./src/js/utils/api.js\");\n/* harmony import */ var _dom_manipulation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dom-manipulation */ \"./src/js/utils/dom-manipulation.js\");\n/* harmony import */ var _listeners__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./listeners */ \"./src/js/utils/listeners.js\");\n/* harmony import */ var _validation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./validation */ \"./src/js/utils/validation.js\");\n\n\n\n\nfunction imageCommentPreview() {\n  var selectedImagesForComment = [];\n  document.querySelector('div.reply-button-wrapper button.reply-comment-button').addEventListener('click', onClickCommentButton);\n  (0,_listeners__WEBPACK_IMPORTED_MODULE_2__.addAllListenersToPosts)(function (e) {\n    var uploadPreview = document.querySelector('#modal-container div.upload-images-preview-wrapper');\n    var taReply = document.querySelector(\"#modal-container div.reply-aria textarea\");\n    var submitCommentBtn = document.querySelector('div.reply-button-wrapper button.reply-comment-button');\n\n    if ((0,_validation__WEBPACK_IMPORTED_MODULE_3__.validateNumberOfImages)(e)) {\n      uploadPreview.innerHTML = '';\n      uploadPreview.classList.remove('hidden');\n      selectedImagesForComment = Array.from(e.target.files);\n      (0,_dom_manipulation__WEBPACK_IMPORTED_MODULE_1__.addSelectedImagesToPreview)(uploadPreview, e.target.files, function (e, img) {\n        var imageId = img.dataset.imageId;\n        var deletedImage = selectedImagesForComment.find(function (file) {\n          return imageId == \"\".concat(file.lastModified, \"-\").concat(file.name);\n        });\n        selectedImagesForComment = selectedImagesForComment.filter(function (file) {\n          return file != deletedImage;\n        });\n        var imageWrapper = document.querySelector(\".image-wrapper img[data-image-id=\\\"\".concat(deletedImage.lastModified, \"-\").concat(deletedImage.name, \"\\\"]\")).parentElement;\n        imageWrapper.remove();\n\n        if (selectedImagesForComment.length == 0) {\n          uploadPreview.classList.add('hidden');\n        }\n      });\n      (0,_dom_manipulation__WEBPACK_IMPORTED_MODULE_1__.toggleButtonAvailability)(submitCommentBtn, function () {\n        return taReply.value.trim() == 0 && selectedImagesForComment.length == 0;\n      }, 'bg-opacity-100');\n    } else {\n      uploadPreview.classList.add('hidden');\n      selectedImagesForComment = [];\n    }\n  });\n  /**\r\n   * @param {Event} e \r\n   */\n\n  function onClickCommentButton(e) {\n    e.stopPropagation();\n    var pid = e.target.dataset.pid;\n    var content = document.querySelector(\"div#modal-container div.reply-aria textarea\").value;\n    var commentButtonLabel = document.querySelector('div#modal-container div.reply-button-wrapper span.comment-button__label');\n    var commentButtonSpinner = document.querySelector('div#modal-container div.reply-button-wrapper .comment-button__spinner');\n    (0,_dom_manipulation__WEBPACK_IMPORTED_MODULE_1__.showSpinner)(commentButtonLabel, commentButtonSpinner);\n    var modal = document.querySelector('#modal-container');\n    (0,_api__WEBPACK_IMPORTED_MODULE_0__.replyToPost)(pid, content, selectedImagesForComment).then(function (res) {\n      return res.json();\n    }).then(function (_ref) {\n      var status = _ref.status;\n\n      if (status == 201) {\n        (0,_dom_manipulation__WEBPACK_IMPORTED_MODULE_1__.hideSpinner)(commentButtonLabel, commentButtonSpinner);\n        location.reload();\n      }\n\n      modal.classList.add('hidden');\n    })[\"catch\"](function (err) {\n      (0,_dom_manipulation__WEBPACK_IMPORTED_MODULE_1__.hideSpinner)(commentButtonLabel, commentButtonSpinner);\n      console.error(err);\n      modal.classList.add('hidden');\n    });\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvdXRpbHMvaW1hZ2UtY29tbWVudC1wcmV2aWV3LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwLy4vc3JjL2pzL3V0aWxzL2ltYWdlLWNvbW1lbnQtcHJldmlldy5qcz8wZjIyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlcGx5VG9Qb3N0IH0gZnJvbSBcIi4vYXBpXCI7XG5pbXBvcnQgeyBhZGRTZWxlY3RlZEltYWdlc1RvUHJldmlldywgaGlkZVNwaW5uZXIsIHNob3dTcGlubmVyLCB0b2dnbGVCdXR0b25BdmFpbGFiaWxpdHkgfSBmcm9tIFwiLi9kb20tbWFuaXB1bGF0aW9uXCI7XG5pbXBvcnQgeyBhZGRBbGxMaXN0ZW5lcnNUb1Bvc3RzIH0gZnJvbSBcIi4vbGlzdGVuZXJzXCI7XG5pbXBvcnQgeyB2YWxpZGF0ZU51bWJlck9mSW1hZ2VzIH0gZnJvbSBcIi4vdmFsaWRhdGlvblwiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW1hZ2VDb21tZW50UHJldmlldygpIHtcbiAgdmFyIHNlbGVjdGVkSW1hZ2VzRm9yQ29tbWVudCA9IFtdO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXYucmVwbHktYnV0dG9uLXdyYXBwZXIgYnV0dG9uLnJlcGx5LWNvbW1lbnQtYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkNsaWNrQ29tbWVudEJ1dHRvbik7XG4gIGFkZEFsbExpc3RlbmVyc1RvUG9zdHMoZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgdXBsb2FkUHJldmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtb2RhbC1jb250YWluZXIgZGl2LnVwbG9hZC1pbWFnZXMtcHJldmlldy13cmFwcGVyJyk7XG4gICAgdmFyIHRhUmVwbHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21vZGFsLWNvbnRhaW5lciBkaXYucmVwbHktYXJpYSB0ZXh0YXJlYVwiKTtcbiAgICB2YXIgc3VibWl0Q29tbWVudEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Rpdi5yZXBseS1idXR0b24td3JhcHBlciBidXR0b24ucmVwbHktY29tbWVudC1idXR0b24nKTtcblxuICAgIGlmICh2YWxpZGF0ZU51bWJlck9mSW1hZ2VzKGUpKSB7XG4gICAgICB1cGxvYWRQcmV2aWV3LmlubmVySFRNTCA9ICcnO1xuICAgICAgdXBsb2FkUHJldmlldy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIHNlbGVjdGVkSW1hZ2VzRm9yQ29tbWVudCA9IEFycmF5LmZyb20oZS50YXJnZXQuZmlsZXMpO1xuICAgICAgYWRkU2VsZWN0ZWRJbWFnZXNUb1ByZXZpZXcodXBsb2FkUHJldmlldywgZS50YXJnZXQuZmlsZXMsIGZ1bmN0aW9uIChlLCBpbWcpIHtcbiAgICAgICAgdmFyIGltYWdlSWQgPSBpbWcuZGF0YXNldC5pbWFnZUlkO1xuICAgICAgICB2YXIgZGVsZXRlZEltYWdlID0gc2VsZWN0ZWRJbWFnZXNGb3JDb21tZW50LmZpbmQoZnVuY3Rpb24gKGZpbGUpIHtcbiAgICAgICAgICByZXR1cm4gaW1hZ2VJZCA9PSBcIlwiLmNvbmNhdChmaWxlLmxhc3RNb2RpZmllZCwgXCItXCIpLmNvbmNhdChmaWxlLm5hbWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2VsZWN0ZWRJbWFnZXNGb3JDb21tZW50ID0gc2VsZWN0ZWRJbWFnZXNGb3JDb21tZW50LmZpbHRlcihmdW5jdGlvbiAoZmlsZSkge1xuICAgICAgICAgIHJldHVybiBmaWxlICE9IGRlbGV0ZWRJbWFnZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBpbWFnZVdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmltYWdlLXdyYXBwZXIgaW1nW2RhdGEtaW1hZ2UtaWQ9XFxcIlwiLmNvbmNhdChkZWxldGVkSW1hZ2UubGFzdE1vZGlmaWVkLCBcIi1cIikuY29uY2F0KGRlbGV0ZWRJbWFnZS5uYW1lLCBcIlxcXCJdXCIpKS5wYXJlbnRFbGVtZW50O1xuICAgICAgICBpbWFnZVdyYXBwZXIucmVtb3ZlKCk7XG5cbiAgICAgICAgaWYgKHNlbGVjdGVkSW1hZ2VzRm9yQ29tbWVudC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgIHVwbG9hZFByZXZpZXcuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdG9nZ2xlQnV0dG9uQXZhaWxhYmlsaXR5KHN1Ym1pdENvbW1lbnRCdG4sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRhUmVwbHkudmFsdWUudHJpbSgpID09IDAgJiYgc2VsZWN0ZWRJbWFnZXNGb3JDb21tZW50Lmxlbmd0aCA9PSAwO1xuICAgICAgfSwgJ2JnLW9wYWNpdHktMTAwJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVwbG9hZFByZXZpZXcuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBzZWxlY3RlZEltYWdlc0ZvckNvbW1lbnQgPSBbXTtcbiAgICB9XG4gIH0pO1xuICAvKipcclxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIFxyXG4gICAqL1xuXG4gIGZ1bmN0aW9uIG9uQ2xpY2tDb21tZW50QnV0dG9uKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHZhciBwaWQgPSBlLnRhcmdldC5kYXRhc2V0LnBpZDtcbiAgICB2YXIgY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJkaXYjbW9kYWwtY29udGFpbmVyIGRpdi5yZXBseS1hcmlhIHRleHRhcmVhXCIpLnZhbHVlO1xuICAgIHZhciBjb21tZW50QnV0dG9uTGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXYjbW9kYWwtY29udGFpbmVyIGRpdi5yZXBseS1idXR0b24td3JhcHBlciBzcGFuLmNvbW1lbnQtYnV0dG9uX19sYWJlbCcpO1xuICAgIHZhciBjb21tZW50QnV0dG9uU3Bpbm5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2RpdiNtb2RhbC1jb250YWluZXIgZGl2LnJlcGx5LWJ1dHRvbi13cmFwcGVyIC5jb21tZW50LWJ1dHRvbl9fc3Bpbm5lcicpO1xuICAgIHNob3dTcGlubmVyKGNvbW1lbnRCdXR0b25MYWJlbCwgY29tbWVudEJ1dHRvblNwaW5uZXIpO1xuICAgIHZhciBtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtb2RhbC1jb250YWluZXInKTtcbiAgICByZXBseVRvUG9zdChwaWQsIGNvbnRlbnQsIHNlbGVjdGVkSW1hZ2VzRm9yQ29tbWVudCkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICB2YXIgc3RhdHVzID0gX3JlZi5zdGF0dXM7XG5cbiAgICAgIGlmIChzdGF0dXMgPT0gMjAxKSB7XG4gICAgICAgIGhpZGVTcGlubmVyKGNvbW1lbnRCdXR0b25MYWJlbCwgY29tbWVudEJ1dHRvblNwaW5uZXIpO1xuICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgIH1cblxuICAgICAgbW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfSlbXCJjYXRjaFwiXShmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBoaWRlU3Bpbm5lcihjb21tZW50QnV0dG9uTGFiZWwsIGNvbW1lbnRCdXR0b25TcGlubmVyKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH0pO1xuICB9XG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/utils/image-comment-preview.js\n");

/***/ })

}]);