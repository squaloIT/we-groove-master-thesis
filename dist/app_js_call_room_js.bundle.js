"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkwegroove"] = self["webpackChunkwegroove"] || []).push([["app_js_call_room_js"],{

/***/ "./app/js/call_room.js":
/*!*****************************!*\
  !*** ./app/js/call_room.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ call_room)\n/* harmony export */ });\n/* harmony import */ var jwt_decode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jwt-decode */ \"./node_modules/jwt-decode/build/jwt-decode.esm.js\");\n/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! socket.io-client */ \"./node_modules/socket.io-client/wrapper.mjs\");\n/* harmony import */ var _utils_html_creators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/html-creators */ \"./app/js/utils/html-creators.js\");\n\n\n\nfunction call_room() {\n  var socket = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_1__.io)(\"http://localhost:3000\");\n  var myPeer = new Peer(undefined, {\n    host: '/',\n    port: '9000'\n  });\n  var parts = window.location.pathname.split(\"/\");\n  var ROOM_ID = parts[parts.length - 1];\n  var CALL_TYPE = parts[parts.length - 2];\n  var myVideo = document.createElement('video');\n  myVideo.muted = true;\n  var peers = {};\n  var jwtUser = (0,jwt_decode__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(document.querySelector(\"#test\").value);\n  var options = {\n    audio: true\n  };\n\n  if (CALL_TYPE === 'video') {\n    options.video = true;\n  }\n\n  navigator.mediaDevices.getUserMedia(options).then(function (stream) {\n    var leaveCallButton = document.querySelector('button#leave-call');\n    leaveCallButton.addEventListener('click', function () {\n      myPeer.disconnect();\n      window.history.back();\n    });\n\n    if (CALL_TYPE === 'video') {\n      connectForVideo(stream);\n    } else {\n      connectForAudio(stream);\n    }\n  });\n  socket.on('user-disconnected', function (userId) {\n    if (peers[userId]) peers[userId].close();\n  });\n  myPeer.on('open', function (id) {\n    socket.emit('join-call', ROOM_ID, id, jwtUser);\n  });\n\n  function addNewUserToAudioCall(peerId, stream, user) {\n    var call = myPeer.call(peerId, stream);\n    var video = document.createElement('video');\n    call.on('stream', function (userVideoStream) {\n      addAudioCallStreamWhenUserConnected(video, userVideoStream, user);\n    });\n    call.on('close', function () {\n      removeVideo(\"audio_call\", video, user._id);\n    });\n    peers[peerId] = call;\n  }\n\n  function addNewUserToVideoCall(peerId, stream, user) {\n    var call = myPeer.call(peerId, stream);\n    var video = document.createElement('video');\n    call.on('stream', function (userVideoStream) {\n      addVideoCallStreamWhenUserConnected(video, userVideoStream, user);\n    });\n    call.on('close', function () {\n      removeVideo(\"video_call\", video, user._id);\n    });\n    peers[peerId] = call;\n  }\n\n  function connectForAudio(stream) {\n    myPeer.on('call', function (call) {\n      call.answer(stream);\n      var video = document.createElement('video');\n      call.on('stream', function (userVideoStream) {\n        addAudioCallStreamWhenUserConnected(video, userVideoStream);\n      });\n    });\n    socket.on('user-connected-to-call', function (peerId, user, roomId) {\n      var isAlreadyDisplayed = document.querySelector(\"#participants-wrapper .call-user-wrapper[data-uid='\".concat(user._id, \"']\"));\n\n      if (!isAlreadyDisplayed) {\n        displayUserBlockInAudioCall(user);\n      }\n\n      addNewUserToAudioCall(peerId, stream, user);\n      socket.emit(\"already-in-room\", jwtUser, roomId);\n    });\n    socket.on('already-in-room', function (user) {\n      var isAlreadyDisplayed = document.querySelector(\"#participants-wrapper .call-user-wrapper[data-uid='\".concat(user._id, \"']\"));\n\n      if (!isAlreadyDisplayed) {\n        displayUserBlockInAudioCall(user);\n      }\n    });\n  }\n\n  function connectForVideo(stream) {\n    addMyVideoStreaming(myVideo, stream);\n    myPeer.on('call', function (call) {\n      call.answer(stream);\n      var video = document.createElement('video');\n      call.on('stream', function (userVideoStream) {\n        addVideoCallStreamWhenUserConnected(video, userVideoStream);\n      });\n    });\n    socket.on('user-connected-to-call', function (peerId, user, roomId) {\n      setTimeout(function () {\n        addNewUserToVideoCall(peerId, stream, user);\n      }, 2000);\n    });\n  }\n\n  function removeVideo(callType, video, userId) {\n    video.remove();\n\n    if (callType === 'audio_call') {\n      var wrapper = document.querySelector(\".call-user-wrapper[data-uid='\".concat(userId, \"']\"));\n      wrapper.remove();\n    }\n  }\n\n  function displayUserBlockInAudioCall(user) {\n    var participantsWrapper = document.querySelector(\"#participants-wrapper\");\n    var userBlock = (0,_utils_html_creators__WEBPACK_IMPORTED_MODULE_2__.createAudioBlock)(user);\n    participantsWrapper.innerHTML += userBlock;\n  }\n  /**\r\n   * \r\n   * @param { HTMLElement } video \r\n   * @param {*} stream \r\n   * @param { user } user\r\n   */\n\n\n  var videoTimeout = null;\n\n  function addVideoCallStreamWhenUserConnected(video, stream) {\n    var user = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var videoGrid = document.getElementById('video-grid');\n    video.srcObject = stream;\n    video.addEventListener('loadedmetadata', function () {\n      video.play();\n    });\n    var divVideoBlock = (0,_utils_html_creators__WEBPACK_IMPORTED_MODULE_2__.createVideoCallBlock)(video, user);\n    clearTimeout(videoTimeout);\n    videoTimeout = setTimeout(function () {\n      video.addEventListener('click', function () {\n        var bigVideo = document.querySelector('#big-video-wrapper video');\n        var smallVideoSrcObject = video.srcObject;\n        video.srcObject = bigVideo.srcObject;\n        bigVideo.srcObject = smallVideoSrcObject;\n      });\n    }, 1000);\n    videoGrid.append(divVideoBlock);\n  }\n  /**\r\n   * \r\n   * @param { HTMLElement } video \r\n   * @param {*} stream\r\n   */\n\n\n  function addAudioCallStreamWhenUserConnected(video, stream) {\n    var videoGrid = document.getElementById('video-grid');\n    video.srcObject = stream;\n    video.addEventListener('loadedmetadata', function () {\n      video.play();\n    });\n    video.className = \"object-fill cursor-pointer hover:border hover:border-white lg:max-h-80 lg:max-w-none xs:max-w-[170px] sm:max-w-[200px] max-w-[150px]  lg:mb-4\";\n    videoGrid.append(video);\n  }\n  /**\r\n   * \r\n   * @param {HTMLElement} video \r\n   * @param {*} stream \r\n   */\n\n\n  function addMyVideoStreaming(video, stream) {\n    var videoGrid = document.getElementById('big-video-wrapper');\n    video.srcObject = stream;\n    video.classList.add(\"h-full\");\n    video.classList.add(\"w-full\");\n    video.classList.add(\"object-cover\");\n    video.classList.add(\"lg:object-fill\");\n    video.addEventListener('loadedmetadata', function () {\n      video.play();\n    });\n    videoGrid.append(video);\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcHAvanMvY2FsbF9yb29tLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlZ3Jvb3ZlLy4vYXBwL2pzL2NhbGxfcm9vbS5qcz8yMDBkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3RfZGVjb2RlIGZyb20gJ2p3dC1kZWNvZGUnO1xuaW1wb3J0IHsgaW8gfSBmcm9tIFwic29ja2V0LmlvLWNsaWVudFwiO1xuaW1wb3J0IHsgY3JlYXRlQXVkaW9CbG9jaywgY3JlYXRlVmlkZW9DYWxsQmxvY2sgfSBmcm9tICcuL3V0aWxzL2h0bWwtY3JlYXRvcnMnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2FsbF9yb29tKCkge1xuICB2YXIgc29ja2V0ID0gaW8oXCJodHRwOi8vbG9jYWxob3N0OjMwMDBcIik7XG4gIHZhciBteVBlZXIgPSBuZXcgUGVlcih1bmRlZmluZWQsIHtcbiAgICBob3N0OiAnLycsXG4gICAgcG9ydDogJzkwMDAnXG4gIH0pO1xuICB2YXIgcGFydHMgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuc3BsaXQoXCIvXCIpO1xuICB2YXIgUk9PTV9JRCA9IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdO1xuICB2YXIgQ0FMTF9UWVBFID0gcGFydHNbcGFydHMubGVuZ3RoIC0gMl07XG4gIHZhciBteVZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgbXlWaWRlby5tdXRlZCA9IHRydWU7XG4gIHZhciBwZWVycyA9IHt9O1xuICB2YXIgand0VXNlciA9IGp3dF9kZWNvZGUoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0ZXN0XCIpLnZhbHVlKTtcbiAgdmFyIG9wdGlvbnMgPSB7XG4gICAgYXVkaW86IHRydWVcbiAgfTtcblxuICBpZiAoQ0FMTF9UWVBFID09PSAndmlkZW8nKSB7XG4gICAgb3B0aW9ucy52aWRlbyA9IHRydWU7XG4gIH1cblxuICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShvcHRpb25zKS50aGVuKGZ1bmN0aW9uIChzdHJlYW0pIHtcbiAgICB2YXIgbGVhdmVDYWxsQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uI2xlYXZlLWNhbGwnKTtcbiAgICBsZWF2ZUNhbGxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBteVBlZXIuZGlzY29ubmVjdCgpO1xuICAgICAgd2luZG93Lmhpc3RvcnkuYmFjaygpO1xuICAgIH0pO1xuXG4gICAgaWYgKENBTExfVFlQRSA9PT0gJ3ZpZGVvJykge1xuICAgICAgY29ubmVjdEZvclZpZGVvKHN0cmVhbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbm5lY3RGb3JBdWRpbyhzdHJlYW0pO1xuICAgIH1cbiAgfSk7XG4gIHNvY2tldC5vbigndXNlci1kaXNjb25uZWN0ZWQnLCBmdW5jdGlvbiAodXNlcklkKSB7XG4gICAgaWYgKHBlZXJzW3VzZXJJZF0pIHBlZXJzW3VzZXJJZF0uY2xvc2UoKTtcbiAgfSk7XG4gIG15UGVlci5vbignb3BlbicsIGZ1bmN0aW9uIChpZCkge1xuICAgIHNvY2tldC5lbWl0KCdqb2luLWNhbGwnLCBST09NX0lELCBpZCwgand0VXNlcik7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGFkZE5ld1VzZXJUb0F1ZGlvQ2FsbChwZWVySWQsIHN0cmVhbSwgdXNlcikge1xuICAgIHZhciBjYWxsID0gbXlQZWVyLmNhbGwocGVlcklkLCBzdHJlYW0pO1xuICAgIHZhciB2aWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgY2FsbC5vbignc3RyZWFtJywgZnVuY3Rpb24gKHVzZXJWaWRlb1N0cmVhbSkge1xuICAgICAgYWRkQXVkaW9DYWxsU3RyZWFtV2hlblVzZXJDb25uZWN0ZWQodmlkZW8sIHVzZXJWaWRlb1N0cmVhbSwgdXNlcik7XG4gICAgfSk7XG4gICAgY2FsbC5vbignY2xvc2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZW1vdmVWaWRlbyhcImF1ZGlvX2NhbGxcIiwgdmlkZW8sIHVzZXIuX2lkKTtcbiAgICB9KTtcbiAgICBwZWVyc1twZWVySWRdID0gY2FsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZE5ld1VzZXJUb1ZpZGVvQ2FsbChwZWVySWQsIHN0cmVhbSwgdXNlcikge1xuICAgIHZhciBjYWxsID0gbXlQZWVyLmNhbGwocGVlcklkLCBzdHJlYW0pO1xuICAgIHZhciB2aWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgY2FsbC5vbignc3RyZWFtJywgZnVuY3Rpb24gKHVzZXJWaWRlb1N0cmVhbSkge1xuICAgICAgYWRkVmlkZW9DYWxsU3RyZWFtV2hlblVzZXJDb25uZWN0ZWQodmlkZW8sIHVzZXJWaWRlb1N0cmVhbSwgdXNlcik7XG4gICAgfSk7XG4gICAgY2FsbC5vbignY2xvc2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZW1vdmVWaWRlbyhcInZpZGVvX2NhbGxcIiwgdmlkZW8sIHVzZXIuX2lkKTtcbiAgICB9KTtcbiAgICBwZWVyc1twZWVySWRdID0gY2FsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbm5lY3RGb3JBdWRpbyhzdHJlYW0pIHtcbiAgICBteVBlZXIub24oJ2NhbGwnLCBmdW5jdGlvbiAoY2FsbCkge1xuICAgICAgY2FsbC5hbnN3ZXIoc3RyZWFtKTtcbiAgICAgIHZhciB2aWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICBjYWxsLm9uKCdzdHJlYW0nLCBmdW5jdGlvbiAodXNlclZpZGVvU3RyZWFtKSB7XG4gICAgICAgIGFkZEF1ZGlvQ2FsbFN0cmVhbVdoZW5Vc2VyQ29ubmVjdGVkKHZpZGVvLCB1c2VyVmlkZW9TdHJlYW0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgc29ja2V0Lm9uKCd1c2VyLWNvbm5lY3RlZC10by1jYWxsJywgZnVuY3Rpb24gKHBlZXJJZCwgdXNlciwgcm9vbUlkKSB7XG4gICAgICB2YXIgaXNBbHJlYWR5RGlzcGxheWVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwYXJ0aWNpcGFudHMtd3JhcHBlciAuY2FsbC11c2VyLXdyYXBwZXJbZGF0YS11aWQ9J1wiLmNvbmNhdCh1c2VyLl9pZCwgXCInXVwiKSk7XG5cbiAgICAgIGlmICghaXNBbHJlYWR5RGlzcGxheWVkKSB7XG4gICAgICAgIGRpc3BsYXlVc2VyQmxvY2tJbkF1ZGlvQ2FsbCh1c2VyKTtcbiAgICAgIH1cblxuICAgICAgYWRkTmV3VXNlclRvQXVkaW9DYWxsKHBlZXJJZCwgc3RyZWFtLCB1c2VyKTtcbiAgICAgIHNvY2tldC5lbWl0KFwiYWxyZWFkeS1pbi1yb29tXCIsIGp3dFVzZXIsIHJvb21JZCk7XG4gICAgfSk7XG4gICAgc29ja2V0Lm9uKCdhbHJlYWR5LWluLXJvb20nLCBmdW5jdGlvbiAodXNlcikge1xuICAgICAgdmFyIGlzQWxyZWFkeURpc3BsYXllZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcGFydGljaXBhbnRzLXdyYXBwZXIgLmNhbGwtdXNlci13cmFwcGVyW2RhdGEtdWlkPSdcIi5jb25jYXQodXNlci5faWQsIFwiJ11cIikpO1xuXG4gICAgICBpZiAoIWlzQWxyZWFkeURpc3BsYXllZCkge1xuICAgICAgICBkaXNwbGF5VXNlckJsb2NrSW5BdWRpb0NhbGwodXNlcik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBjb25uZWN0Rm9yVmlkZW8oc3RyZWFtKSB7XG4gICAgYWRkTXlWaWRlb1N0cmVhbWluZyhteVZpZGVvLCBzdHJlYW0pO1xuICAgIG15UGVlci5vbignY2FsbCcsIGZ1bmN0aW9uIChjYWxsKSB7XG4gICAgICBjYWxsLmFuc3dlcihzdHJlYW0pO1xuICAgICAgdmFyIHZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgIGNhbGwub24oJ3N0cmVhbScsIGZ1bmN0aW9uICh1c2VyVmlkZW9TdHJlYW0pIHtcbiAgICAgICAgYWRkVmlkZW9DYWxsU3RyZWFtV2hlblVzZXJDb25uZWN0ZWQodmlkZW8sIHVzZXJWaWRlb1N0cmVhbSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBzb2NrZXQub24oJ3VzZXItY29ubmVjdGVkLXRvLWNhbGwnLCBmdW5jdGlvbiAocGVlcklkLCB1c2VyLCByb29tSWQpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBhZGROZXdVc2VyVG9WaWRlb0NhbGwocGVlcklkLCBzdHJlYW0sIHVzZXIpO1xuICAgICAgfSwgMjAwMCk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVWaWRlbyhjYWxsVHlwZSwgdmlkZW8sIHVzZXJJZCkge1xuICAgIHZpZGVvLnJlbW92ZSgpO1xuXG4gICAgaWYgKGNhbGxUeXBlID09PSAnYXVkaW9fY2FsbCcpIHtcbiAgICAgIHZhciB3cmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYWxsLXVzZXItd3JhcHBlcltkYXRhLXVpZD0nXCIuY29uY2F0KHVzZXJJZCwgXCInXVwiKSk7XG4gICAgICB3cmFwcGVyLnJlbW92ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRpc3BsYXlVc2VyQmxvY2tJbkF1ZGlvQ2FsbCh1c2VyKSB7XG4gICAgdmFyIHBhcnRpY2lwYW50c1dyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BhcnRpY2lwYW50cy13cmFwcGVyXCIpO1xuICAgIHZhciB1c2VyQmxvY2sgPSBjcmVhdGVBdWRpb0Jsb2NrKHVzZXIpO1xuICAgIHBhcnRpY2lwYW50c1dyYXBwZXIuaW5uZXJIVE1MICs9IHVzZXJCbG9jaztcbiAgfVxuICAvKipcclxuICAgKiBcclxuICAgKiBAcGFyYW0geyBIVE1MRWxlbWVudCB9IHZpZGVvIFxyXG4gICAqIEBwYXJhbSB7Kn0gc3RyZWFtIFxyXG4gICAqIEBwYXJhbSB7IHVzZXIgfSB1c2VyXHJcbiAgICovXG5cblxuICB2YXIgdmlkZW9UaW1lb3V0ID0gbnVsbDtcblxuICBmdW5jdGlvbiBhZGRWaWRlb0NhbGxTdHJlYW1XaGVuVXNlckNvbm5lY3RlZCh2aWRlbywgc3RyZWFtKSB7XG4gICAgdmFyIHVzZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IG51bGw7XG4gICAgdmFyIHZpZGVvR3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2aWRlby1ncmlkJyk7XG4gICAgdmlkZW8uc3JjT2JqZWN0ID0gc3RyZWFtO1xuICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlZG1ldGFkYXRhJywgZnVuY3Rpb24gKCkge1xuICAgICAgdmlkZW8ucGxheSgpO1xuICAgIH0pO1xuICAgIHZhciBkaXZWaWRlb0Jsb2NrID0gY3JlYXRlVmlkZW9DYWxsQmxvY2sodmlkZW8sIHVzZXIpO1xuICAgIGNsZWFyVGltZW91dCh2aWRlb1RpbWVvdXQpO1xuICAgIHZpZGVvVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBiaWdWaWRlbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNiaWctdmlkZW8td3JhcHBlciB2aWRlbycpO1xuICAgICAgICB2YXIgc21hbGxWaWRlb1NyY09iamVjdCA9IHZpZGVvLnNyY09iamVjdDtcbiAgICAgICAgdmlkZW8uc3JjT2JqZWN0ID0gYmlnVmlkZW8uc3JjT2JqZWN0O1xuICAgICAgICBiaWdWaWRlby5zcmNPYmplY3QgPSBzbWFsbFZpZGVvU3JjT2JqZWN0O1xuICAgICAgfSk7XG4gICAgfSwgMTAwMCk7XG4gICAgdmlkZW9HcmlkLmFwcGVuZChkaXZWaWRlb0Jsb2NrKTtcbiAgfVxuICAvKipcclxuICAgKiBcclxuICAgKiBAcGFyYW0geyBIVE1MRWxlbWVudCB9IHZpZGVvIFxyXG4gICAqIEBwYXJhbSB7Kn0gc3RyZWFtXHJcbiAgICovXG5cblxuICBmdW5jdGlvbiBhZGRBdWRpb0NhbGxTdHJlYW1XaGVuVXNlckNvbm5lY3RlZCh2aWRlbywgc3RyZWFtKSB7XG4gICAgdmFyIHZpZGVvR3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2aWRlby1ncmlkJyk7XG4gICAgdmlkZW8uc3JjT2JqZWN0ID0gc3RyZWFtO1xuICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlZG1ldGFkYXRhJywgZnVuY3Rpb24gKCkge1xuICAgICAgdmlkZW8ucGxheSgpO1xuICAgIH0pO1xuICAgIHZpZGVvLmNsYXNzTmFtZSA9IFwib2JqZWN0LWZpbGwgY3Vyc29yLXBvaW50ZXIgaG92ZXI6Ym9yZGVyIGhvdmVyOmJvcmRlci13aGl0ZSBsZzptYXgtaC04MCBsZzptYXgtdy1ub25lIHhzOm1heC13LVsxNzBweF0gc206bWF4LXctWzIwMHB4XSBtYXgtdy1bMTUwcHhdICBsZzptYi00XCI7XG4gICAgdmlkZW9HcmlkLmFwcGVuZCh2aWRlbyk7XG4gIH1cbiAgLyoqXHJcbiAgICogXHJcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdmlkZW8gXHJcbiAgICogQHBhcmFtIHsqfSBzdHJlYW0gXHJcbiAgICovXG5cblxuICBmdW5jdGlvbiBhZGRNeVZpZGVvU3RyZWFtaW5nKHZpZGVvLCBzdHJlYW0pIHtcbiAgICB2YXIgdmlkZW9HcmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JpZy12aWRlby13cmFwcGVyJyk7XG4gICAgdmlkZW8uc3JjT2JqZWN0ID0gc3RyZWFtO1xuICAgIHZpZGVvLmNsYXNzTGlzdC5hZGQoXCJoLWZ1bGxcIik7XG4gICAgdmlkZW8uY2xhc3NMaXN0LmFkZChcInctZnVsbFwiKTtcbiAgICB2aWRlby5jbGFzc0xpc3QuYWRkKFwib2JqZWN0LWNvdmVyXCIpO1xuICAgIHZpZGVvLmNsYXNzTGlzdC5hZGQoXCJsZzpvYmplY3QtZmlsbFwiKTtcbiAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZpZGVvLnBsYXkoKTtcbiAgICB9KTtcbiAgICB2aWRlb0dyaWQuYXBwZW5kKHZpZGVvKTtcbiAgfVxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./app/js/call_room.js\n");

/***/ }),

/***/ "./node_modules/jwt-decode/build/jwt-decode.esm.js":
/*!*********************************************************!*\
  !*** ./node_modules/jwt-decode/build/jwt-decode.esm.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"InvalidTokenError\": () => (/* binding */ n)\n/* harmony export */ });\nfunction e(e){this.message=e}e.prototype=new Error,e.prototype.name=\"InvalidCharacterError\";var r=\"undefined\"!=typeof window&&window.atob&&window.atob.bind(window)||function(r){var t=String(r).replace(/=+$/,\"\");if(t.length%4==1)throw new e(\"'atob' failed: The string to be decoded is not correctly encoded.\");for(var n,o,a=0,i=0,c=\"\";o=t.charAt(i++);~o&&(n=a%4?64*n+o:o,a++%4)?c+=String.fromCharCode(255&n>>(-2*a&6)):0)o=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\".indexOf(o);return c};function t(e){var t=e.replace(/-/g,\"+\").replace(/_/g,\"/\");switch(t.length%4){case 0:break;case 2:t+=\"==\";break;case 3:t+=\"=\";break;default:throw\"Illegal base64url string!\"}try{return function(e){return decodeURIComponent(r(e).replace(/(.)/g,(function(e,r){var t=r.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t=\"0\"+t),\"%\"+t})))}(t)}catch(e){return r(t)}}function n(e){this.message=e}function o(e,r){if(\"string\"!=typeof e)throw new n(\"Invalid token specified\");var o=!0===(r=r||{}).header?0:1;try{return JSON.parse(t(e.split(\".\")[o]))}catch(e){throw new n(\"Invalid token specified: \"+e.message)}}n.prototype=new Error,n.prototype.name=\"InvalidTokenError\";/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (o);\n//# sourceMappingURL=jwt-decode.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvand0LWRlY29kZS9idWlsZC9qd3QtZGVjb2RlLmVzbS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWdyb292ZS8uL25vZGVfbW9kdWxlcy9qd3QtZGVjb2RlL2J1aWxkL2p3dC1kZWNvZGUuZXNtLmpzPzEyMzIiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gZShlKXt0aGlzLm1lc3NhZ2U9ZX1lLnByb3RvdHlwZT1uZXcgRXJyb3IsZS5wcm90b3R5cGUubmFtZT1cIkludmFsaWRDaGFyYWN0ZXJFcnJvclwiO3ZhciByPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5hdG9iJiZ3aW5kb3cuYXRvYi5iaW5kKHdpbmRvdyl8fGZ1bmN0aW9uKHIpe3ZhciB0PVN0cmluZyhyKS5yZXBsYWNlKC89KyQvLFwiXCIpO2lmKHQubGVuZ3RoJTQ9PTEpdGhyb3cgbmV3IGUoXCInYXRvYicgZmFpbGVkOiBUaGUgc3RyaW5nIHRvIGJlIGRlY29kZWQgaXMgbm90IGNvcnJlY3RseSBlbmNvZGVkLlwiKTtmb3IodmFyIG4sbyxhPTAsaT0wLGM9XCJcIjtvPXQuY2hhckF0KGkrKyk7fm8mJihuPWElND82NCpuK286byxhKyslNCk/Yys9U3RyaW5nLmZyb21DaGFyQ29kZSgyNTUmbj4+KC0yKmEmNikpOjApbz1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCIuaW5kZXhPZihvKTtyZXR1cm4gY307ZnVuY3Rpb24gdChlKXt2YXIgdD1lLnJlcGxhY2UoLy0vZyxcIitcIikucmVwbGFjZSgvXy9nLFwiL1wiKTtzd2l0Y2godC5sZW5ndGglNCl7Y2FzZSAwOmJyZWFrO2Nhc2UgMjp0Kz1cIj09XCI7YnJlYWs7Y2FzZSAzOnQrPVwiPVwiO2JyZWFrO2RlZmF1bHQ6dGhyb3dcIklsbGVnYWwgYmFzZTY0dXJsIHN0cmluZyFcIn10cnl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQocihlKS5yZXBsYWNlKC8oLikvZywoZnVuY3Rpb24oZSxyKXt2YXIgdD1yLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7cmV0dXJuIHQubGVuZ3RoPDImJih0PVwiMFwiK3QpLFwiJVwiK3R9KSkpfSh0KX1jYXRjaChlKXtyZXR1cm4gcih0KX19ZnVuY3Rpb24gbihlKXt0aGlzLm1lc3NhZ2U9ZX1mdW5jdGlvbiBvKGUscil7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IG4oXCJJbnZhbGlkIHRva2VuIHNwZWNpZmllZFwiKTt2YXIgbz0hMD09PShyPXJ8fHt9KS5oZWFkZXI/MDoxO3RyeXtyZXR1cm4gSlNPTi5wYXJzZSh0KGUuc3BsaXQoXCIuXCIpW29dKSl9Y2F0Y2goZSl7dGhyb3cgbmV3IG4oXCJJbnZhbGlkIHRva2VuIHNwZWNpZmllZDogXCIrZS5tZXNzYWdlKX19bi5wcm90b3R5cGU9bmV3IEVycm9yLG4ucHJvdG90eXBlLm5hbWU9XCJJbnZhbGlkVG9rZW5FcnJvclwiO2V4cG9ydCBkZWZhdWx0IG87ZXhwb3J0e24gYXMgSW52YWxpZFRva2VuRXJyb3J9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9and0LWRlY29kZS5lc20uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/jwt-decode/build/jwt-decode.esm.js\n");

/***/ })

}]);